2018-Oct-05 - dev-meeting
=========================

### availability-api progress in fits-and-starts

- Problem? No problem!

    A quick dummy test on `/isbn/123/` revealed an error. I had just found an [isbn library](https://isbnlib.readthedocs.io/en/latest/) and knew it had a validation capabilty, and so thought it would be trivial to use that for this issue. Code updated and put into production.

- "This word, `valid` -- I do not think it means what you think it means."

    A day later, I was emailed another error, on `/isbn/0415232015(cased)/`. Looking into this, I was surprised to see:

        In [1]: import isbnlib

        In [2]: isbnlib.is_isbn10( '0415232015(cased)' )
        Out[2]: True

    Turns out that function is not really doing a _full_ validity check on the string -- rather, it's saying that there is a valid isbn-10 in that string. Which is why the above passes, and the bad-isbn below fails (with or without `(cased)`)...

        In [3]: isbnlib.is_isbn10( '1234567890(cased)' )
        Out[3]: False

- Full-validity...

    More documentation reading and experimenting! The solution...

        In [4]: isbnlib.EAN13( '0415232015(cased)' )
        Out[4]: '9780415232012'

        In [5]: isbnlib.EAN13( '1234567890(cased)' )

        In [6]:

    Because this also returns a [normalized 13-character](https://en.wikipedia.org/wiki/International_Standard_Book_Number#EAN_format_used_in_barcodes,_and_upgrading) valid isbn, it meant that I had to adjust my worker and calling functions which had previous returned/expected a simple boolean.


---
---


2018-Oct-11 - sprint-demo-meeting
=================================

### annex-hay requesting teamwork fix

- Issue...

    Annex-Hay easy-requesting was failing on a [Josiah bib](https://search.library.brown.edu/catalog/b3647974).

- Teamwork fix...

    I investigated; the hash symbol in the item-callnumber -- `Ms. Bianchi Box 1 (Inventory # 1 - 14)` -- was truncating the information that the easyrequest-hay service was able to process. Hector dove in and fixed.

---


### added online holdings

- Issue...

    easyAccess for books (easyBorrow) was showing alternate e-resources that link360 knew about, but _not_ alternate e-resources returned from the availability-api. (The reference [Josiah bib](https://search.library.brown.edu/catalog/b5707094).)

    - [availability-api results](https://library.brown.edu/availability_api/v1/isbn/9781587299803/) (see response->basics->online_holdings)
    - easyBorrow screenshot showing that the josiah e-resource info was _not_ displayed: ![ezb_before](img_2019-09_eza_screenshot_before.png "before-screenshot")

- Fix...

    - I turned the online info dict from link360 into a list, and appended any online holdings from the availability-api
    - easyBorrow screenshot showing that the josiah e-resource info _is_ now displayed: ![ezb_after](img_2019-09_eza_screenshot_after.png "after-screenshot")

---
---
