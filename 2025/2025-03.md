2025-March-276-Thursday - code-sharing
======================================

## auto-updater

- [github-link](https://github.com/Brown-University-Library/requirements-auto-updater)

### interesting things...

- implements a style I like to have the dundermain short, just getting args, and quickly getting to the main-runner-function.

- normally I try to keep the main-runner-function be a short manager, to get, at a glance, the overall flow of an app. There are a lot of steps here, so I made the decision to allow the manager function to get long -- but kept the principle of making each step no more than 2 or 3 lines of code, by calling helpers.
    - I could call a "sub-manager" function for the "environmental-check" section, etc.

- note the lib_git_handler.py file ([link])(https://github.com/Brown-University-Library/requirements-auto-updater/blob/main/lib/lib_git_handler.py). There's a _lot_ of duplication in those functions.
    - that's because of an interesting issue I came across... there are multiple ways of calling subprocess to execute a command. I was originally using a try/except technique that'd fail if the command didn't return a returncode of zero. But it turned out that, IIRC, some commands "failed" on the returncode, but the text-info indicating all was ok -- and vice-versa. So over time I began changing them to all return both an "ok" indicator (note the inverse-logic of what the boolean would be if it represented the return-code vs "ok"), as well as the captured output -- and handled the result in a caller function.
    - I still could

- running sys

- todos
    - set log-level from envar
    - [issues-link](https://github.com/Brown-University-Library/requirements-auto-updater/issues)

---